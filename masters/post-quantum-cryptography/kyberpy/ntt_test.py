from ntt import ntt, ntt_inverse, ntt_multiply_full_polynomials

if __name__ == "__main__":
    A0 = [1780, 1673, 358, 839, 2230, 1016, 2816, 1027, 2072, 1896, 740, 123, 1729, 732, 1256, 1405, 358, 331, 1948, 1260, 1239, 2870, 46, 318, 131, 2650, 3318, 24, 3180, 1593, 1872, 2559, 3214, 22, 2219, 2050, 2514, 52, 1097, 422, 2429, 2273, 3022, 2492, 269, 1563, 1243, 892, 656, 2124, 562, 228, 1989, 1467, 1666, 1019, 1406, 1850, 2172, 243, 206, 2230, 203, 1288, 148, 1217, 2351, 3, 1148, 2327, 192, 2301, 2080, 1440, 668, 319, 2153, 3253, 2130, 1832, 1297, 755, 2148, 3212, 786, 1215, 157, 2867, 1796, 1925, 3209, 2193, 1592, 2258, 3087, 2649, 2567, 279, 1134, 2371, 1155, 899, 743, 1597, 52, 3312, 2755, 1090, 561, 2356, 2118, 2182, 3319, 2728, 1745, 2426, 1899, 14, 1940, 1203, 164, 2552, 494, 1250, 1684, 1742, 200, 1783, 2485, 1951, 3215, 2083, 2743, 823, 1291, 850, 521, 2212, 323, 2972, 1563, 1375, 2474, 1963, 2540, 2932, 3231, 2351, 2041, 2573, 3063, 2058, 502, 1435, 3075, 1989, 1692, 699, 2164, 357, 1510, 1329, 2213, 1681, 2200, 3253, 967, 3266, 1128, 1076, 2771, 2675, 2228, 142, 1090, 2015, 752, 624, 3219, 870, 2208, 119, 25, 1842, 1101, 342, 677, 2613, 3022, 1165, 311, 1252, 1043, 258, 1033, 2900, 3097, 398, 2135, 2796, 1921, 3221, 2049, 917, 2658, 229, 1468, 3230, 3230, 1951, 359, 1862, 2543, 2087, 1369, 678, 1855, 2163, 1124, 498, 688, 2048, 1674, 2028, 3204, 1166, 1135, 736, 870, 893, 876, 2805, 2737, 2472, 1700, 2801, 833, 1080, 3197, 371, 1223, 566, 666, 2029, 2708, 1657, 2975, 364, 3324, 243, 609, 561, 1615, 404, 3054, 3195]
    A1 = [624, 1861, 596, 315, 370, 2420, 2218, 3273, 3270, 2344, 473, 106, 176, 2998, 2182, 58, 273, 148, 1550, 1786, 826, 143, 2751, 2756, 2911, 2799, 85, 133, 1834, 1205, 2560, 1062, 1640, 1341, 1310, 2508, 2085, 1430, 3127, 3142, 2820, 1606, 3220, 678, 407, 510, 1382, 2431, 645, 2007, 2270, 2048, 1485, 515, 1216, 2332, 2872, 2299, 1308, 1239, 1231, 466, 3202, 2184, 2679, 937, 2197, 872, 2719, 3150, 1375, 1711, 246, 939, 1402, 2305, 2157, 969, 1547, 898, 2914, 3170, 2216, 616, 353, 3073, 1979, 2882, 2519, 312, 663, 1949, 2730, 1031, 1589, 1922, 2513, 2698, 206, 562, 2302, 2744, 3010, 528, 2466, 50, 3306, 2148, 656, 1822, 1802, 1539, 2576, 2513, 2086, 538, 130, 3094, 2218, 2733, 1615, 205, 2849, 645, 1225, 219, 3064, 1369, 1735, 2039, 1961, 10, 1184, 3290, 1052, 2686, 889, 2783, 1241, 893, 370, 1284, 2610, 2624, 1049, 696, 2255, 1915, 541, 1746, 907, 1449, 1538, 1073, 1165, 2298, 937, 3143, 956, 678, 837, 3143, 2565, 2620, 1060, 2831, 1589, 386, 2994, 2990, 1013, 487, 2063, 2220, 1352, 2656, 2848, 1299, 226, 1363, 1677, 1085, 1459, 1068, 220, 1504, 2023, 3101, 405, 3314, 1669, 1869, 2968, 3317, 2503, 2395, 434, 2270, 3029, 1218, 3023, 1581, 1719, 287, 3242, 1578, 1832, 2454, 489, 1225, 1122, 1410, 725, 238, 2178, 471, 854, 918, 558, 1430, 3322, 873, 17, 284, 1849, 184, 3306, 2209, 1657, 1646, 2672, 1778, 1100, 1927, 1528, 3287, 308, 3271, 626, 1721, 1464, 1109, 2640, 789, 504, 3219, 439, 310, 2845, 1868, 2954, 160, 2475, 2765, 1727, 2364]
    R = [3093, 2200, 1617, 278, 1996, 34, 1345, 2946, 2843, 1079, 2757, 130, 1057, 2619, 2820, 2640, 2268, 200, 2116, 2529, 755, 1112, 2249, 2894, 2851, 1336, 2924, 577, 3092, 2250, 115, 219, 248, 1709, 1644, 1490, 2495, 1592, 630, 2569, 2918, 921, 2052, 2931, 2677, 1003, 3063, 15, 212, 69, 1558, 707, 3238, 332, 2789, 885, 2456, 51, 2575, 2865, 1959, 1489, 553, 140, 1820, 110, 1022, 2670, 989, 2919, 1508, 266, 2158, 363, 570, 2894, 2783, 1492, 22, 3019, 2644, 3105, 3088, 1945, 2292, 1307, 531, 907, 2148, 3131, 1817, 1665, 1623, 2516, 1098, 2341, 740, 154, 2491, 532, 441, 2301, 201, 2705, 918, 626, 2518, 340, 437, 1019, 1795, 926, 393, 1311, 5, 588, 1784, 1641, 593, 648, 1256, 508, 2971, 1595, 785, 2667, 2715, 1045, 2404, 2898, 1817, 2269, 355, 1915, 22, 836, 536, 857, 983, 1865, 2396, 2247, 2451, 325, 2714, 3142, 2515, 491, 429, 2027, 2241, 3096, 3320, 2580, 3237, 2413, 2704, 693, 850, 837, 2914, 2592, 426, 2981, 929, 2306, 2766, 177, 1072, 2844, 1943, 1201, 2988, 2589, 2447, 3297, 1537, 917, 3315, 84, 2101, 1952, 2649, 1043, 1795, 64, 1096, 1754, 3010, 383, 3013, 989, 502, 874, 2935, 2068, 1720, 2295, 1308, 589, 393, 811, 952, 536, 1808, 3164, 3265, 2221, 2168, 514, 2070, 2063, 741, 1065, 1816, 910, 3077, 1378, 452, 990, 110, 384, 777, 555, 911, 2374, 625, 195, 1222, 2175, 36, 937, 2790, 470, 2392, 672, 3098, 1361, 1465, 1745, 1147, 1107, 1351, 3020, 1134, 1279, 1222, 121, 1414, 2879, 324, 251, 1629, 2486, 1483, 667]

    polynomial = [-1, 1, 1, 1, 3, 1, 0, 2, 3, -1, 1, -1, -2, -2, 1, -1, 1, 1, 2, 0, -2, 0, 0, 0, 1, 0, -1, 1, -1, 0, 0, 1, -1, 0, 1, -2, 1, 0, 2, 0, -1, 0, 2, -1, -2, 1, -2, 0, -1, 1, 0, 0, -2, 0, -1, -2, -3, -2, 0, -1, -2, 0, 1, 1, -1, 0, -2, -1, 0, 0, -1, -1, 0, 2, 1, -1, -1, -2, 0, 1, 2, 0, 2, -2, -1, -1, -2, 0, 2, -1, 3, 0, 0, -2, 0, -2, 0, 0, 0, 0, 0, 1, -2, 2, 1, -3, 1, 0, 0, -1, 0, 0, -1, 0, 0, 1, -1, -1, 2, 0, -1, -1, 1, 1, 0, 0, 0, 0, 1, -2, 1, 0, -1, 1, -1, 0, 0, -1, -1, -1, 0, 2, -1, 1, 1, 0, -2, -1, 0, 1, 0, 1, 1, -2, -1, -1, -1, 2, 0, -2, -2, 0, 2, 0, 0, 2, 0, -1, 0, 0, 1, 0, 1, 0, 0, 1, 1, -1, 1, -2, 0, -2, 1, -1, 0, 2, 0, 1, 1, -1, 0, 0, -1, 0, 1, 1, 0, -2, -2, -1, 0, -2, 0, 1, -2, 1, -2, 0, -1, 0, 2, 0, 1, 1, 1, 1, -1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 2, 0, 1, -1, 1, 0, -1, 0, -1, 2, 2, -1, 2, -2, 1, -2, 1, 0, 2, 0, 1, 1, -1, 0, 0, 0, 1]
    polynomial_ntt = [1028, 1252, 299, 711, 3213, 231, 1392, 1871, 1674, 3008, 2209, 2522, 2680, 2677, 2357, 2699, 1282, 1951, 3023, 2985, 3196, 513, 883, 2321, 293, 706, 1143, 966, 2808, 342, 547, 3158, 2275, 1505, 579, 1571, 426, 1801, 1161, 2146, 2085, 1152, 610, 1245, 1204, 200, 1978, 2063, 2407, 1962, 368, 2435, 974, 1638, 2174, 2220, 1061, 53, 2667, 1465, 3159, 2859, 2757, 269, 2813, 498, 13, 1778, 1001, 452, 2628, 1389, 2838, 1739, 1072, 447, 1825, 380, 2826, 1266, 490, 2875, 151, 2722, 987, 944, 1233, 608, 74, 514, 260, 2592, 2833, 2232, 2255, 819, 3009, 2951, 1321, 2505, 250, 1533, 136, 1382, 2142, 1064, 709, 1234, 910, 2020, 2926, 1191, 488, 3009, 2711, 929, 769, 2323, 1392, 3030, 1743, 2365, 1770, 2407, 2765, 1065, 353, 2234, 2965, 1844, 51, 2876, 2292, 768, 282, 2163, 675, 765, 2706, 3157, 3213, 1091, 1611, 311, 85, 2427, 2712, 1469, 1126, 1468, 1857, 1939, 2235, 1661, 2154, 1097, 498, 1102, 636, 1245, 1699, 1102, 1985, 1158, 1917, 588, 2255, 3154, 195, 1042, 1050, 909, 91, 2633, 8, 193, 2814, 2076, 415, 1840, 266, 2449, 1486, 223, 21, 1112, 1903, 1673, 3292, 2344, 1960, 2887, 707, 2541, 133, 3028, 2977, 368, 274, 86, 3209, 620, 3024, 3311, 945, 423, 1567, 1354, 2150, 2765, 440, 2707, 2112, 1203, 3204, 968, 596, 360, 23, 1801, 650, 734, 2226, 3114, 464, 986, 709, 801, 1172, 2669, 134, 1350, 105, 2257, 2688, 571, 1361, 630, 2269, 936, 2924, 696, 252, 1876, 3135, 1654, 1086, 2602, 2617, 602, 2007, 2739, 2733, 2912, 1330, 2102]

    ntt_result = ntt(polynomial)

    for index, (l, r) in enumerate(zip(ntt_result, polynomial_ntt)):
        if l != r:
            print(index, "-", l, "!=", r)

    ntt_inverse_result = ntt_inverse(ntt_result)

    for index, (l, r) in enumerate(zip(ntt_inverse_result, polynomial)):
        if l != r:
            print(index, "-", l, "!=", r)
            
    multiplication_result = ntt_multiply_full_polynomials(A0, A1)

    for index, (l, r) in enumerate(zip(multiplication_result, R)):
        if l != r:
            print(index, "-", l, "!=", r)
    